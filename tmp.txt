# List All Drives
lsblk

# Install mdadm utility to manage and monitor software RAID
sudo apt-get -y install mdadm

# Create disk partitions with type 0xfd
sudo mdadm --zero-superblock /dev/$DISK1 /dev/$DISK2 ... /dev/$DISKn

# Wipe each of all partition data <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
sudo wipefs -a /dev/$DISK1
sudo wipefs -a /dev/$DISK2
	|	|
sudo wipefs -a /dev/$DISKn


# Create RAID partition $MD (e.g. md0) with $LEVEL: 1 (Mirroring) or 5 (Striping /w Distributed Parity)
sudo mdadm --create /dev/$MD --level=$LEVEL --raid-devices=n /dev/$DISK1 /dev/$DISK2 ... /dev/$DISKn
	# Reversal (make sure to unmount first)
	#sudo mdadm --stop /dev/$MD # Execute to remove raid
	#sudo mdadm --remove /dev/$MD
	#sudo mdadm --zero-superblock /dev/$DISK1 /dev/$DISK2 ... /dev/$DISKn





sudo mdadm --create /dev/md0 --level=1 --raid-devices=3 /dev/nvme0n1 /dev/nvme3n1 /dev/nvme4n1



# Create filesystem (i.e. ext4) on block device ($MD)
sudo mkfs.ext4 /dev/$MD

# Mount the RAID Array @ /$RAID_PATH (e.g. /mnt/raid)
sudo mkdir /$RAID_PATH
sudo mount /dev/$MD /$RAID_PATH
	# Reversal
	#sudo umount /dev/$MD # Execute to unmount

# Configure Automatic Mounting
echo "/dev/$MD /$RAID_PATH ext4 defaults,nofail,discard 0 0" | sudo tee -a /etc/fstab

# Ensure RAID configuration persists after a reboot
sudo mdadm --detail --scan | sudo tee -a /etc/mdadm/mdadm.conf
sudo update-initramfs -u

# Query the RAID array
sudo mdadm --query --detail /dev/$MD

#######################################################
# List All Drives
lsblk

# Create disk partition with fdisk
sudo fdisk /dev/$DISK # n, p, 1, 2048, default)

# Create filesystem (i.e. ext4) on block device ($MD)
sudo mkfs.ext4 /dev/$DISK

# Create Mount Point ($POINT) & Mount
sudo mkdir /mnt/$POINT
sudo mount /dev/$DISK /mnt/$POINT

# Configure Automatic Mounting
echo "# Added mount /dev/$DISK post installation" | sudo tee -a /etc/fstab
echo "UUID=$(sudo blkid | grep $DISK | cut -d "\"" -f 2) /mnt/$POINT ext4 defaults 1 1" | sudo tee -a /etc/fstab

















# Create disk partitions with type 0xfd
sudo mdadm --zero-superblock /dev/sda /dev/sdb /dev/sdc /dev/sde




# Create RAID partition $MD (e.g. md0) with $LEVEL: 1 (Mirroring) or 5 (Striping /w Distributed Parity)
sudo mdadm --create /dev/md/ssds --level=5 --raid-devices=4 /dev/sda /dev/sdb /dev/sdc /dev/sde
	# Reversal (make sure to unmount first)
	sudo mdadm --stop /dev/md/ssds # Execute to remove raid
	sudo mdadm --remove /dev/md/ssds # Execute to remove raid

	#sudo mdadm --zero-superblock /dev/$DISK1 /dev/$DISK2 ... /dev/$DISKn

# Create filesystem (i.e. ext4) on block device ($MD)
sudo mkfs.ext4 /dev/md/ssds

# Mount the RAID Array @ /$RAID_PATH (e.g. /mnt/raid)
sudo mkdir /mnt/ssds
sudo mount /dev/md/ssds /mnt/ssds

	# Reversal
	#sudo umount /dev/$MD # Execute to unmount

# Configure Automatic Mounting
echo "/dev/md/ssds /mnt/ssds ext4 defaults,nofail,discard 0 0" | sudo tee -a /etc/fstab

# Ensure RAID configuration persists after a reboot
sudo mdadm --detail --scan | sudo tee -a /etc/mdadm/mdadm.conf
sudo update-initramfs -u

# Query the RAID array
sudo mdadm --query --detail /dev/$MD








